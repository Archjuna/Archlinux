#!/bin/bash
#* ************************************************************************** *#
#* ************************************************    ********************** *#
#* **  by: Archjuna  *****************************  **  ********************* *#
#* **********************************************  ****  ******************** *#
#* **  mail: archjuna@net-c.com  ***************  ******  ******************* *#
#* ******************************************    ********    **************** *#
#* *****************************************    **********    *************** *#
#* ******************************************  ************  **************** *#
#* *****************************************  **************  *************** *#
#* ****************************************  ****************  ************** *#
#* ************************************************************************** *#

NB_ROWS=`tput cols`
CALCUL_ROWS=$(($NB_ROWS-4))
TO_RIGHT="\033["$CALCUL_ROWS"C"
ANIMATION=("|]" /] -] "\]")


count(){
  wait &
  pid=$!

  for i in `seq 1 5`
  do
    sleep 1;
  done

  kill $pid
}

function wait(){
  while [ 1 ]
  do
    for i in ${ANIMATION[@]};
    do
      echo -ne "\r$TO_RIGHT [$i";
      sleep 0.2;
    done;
  done
}

echo -n "TEST"
count
